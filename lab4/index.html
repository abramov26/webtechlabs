<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="jquery-ui.css" rel="stylesheet">
	<link href="style.css" rel="stylesheet">
	<title>Афиша концертов в Уфе (ПИ-323 ВТ ЛР№4 Абрамов)</title>
</head>
<body>
	<h1>Веб-технологии, Лабораторная работа №4 (Вариант 3)</h1>

<div class="ui-widget">
	<p>Афиша концертов в Уфе</p>
</div>
<div id="accordion">


	<!-- Сергей Орлов -->


	<h3>Сергей Орлов</h3>
	<div>
	<table width="100%" cellspacing="0" cellpadding="0">
		<tr> 
			<td class="leftcol"><img src="/img/sergeyorlov.jpg" width="200"></td>
			<td class="leftcol" align="center"><h1>Сергей Орлов</h1><br>28 ноября 20:00<br><a href="https://2gis.ru/ufa/firm/2393065583018101" target="_blank">Тинькофф Холл<a></td>
			<td class="leftcol"></td>
			<td class="leftcol"></td>
			<td class="leftcol" align="center"><!-- <button>Подробнее</button> --></td>
	
		</tr>
		<tr></tr>
		<tr></tr>
		<tr> 
			<td class="leftcol"  align="left"></td>
			<td class="leftcol"  align="left"></td>
			<td class="leftcol"></td>
			<td class="leftcol"></td>
			<td class="leftcol"></td>
		</tr>
		<tr>
		<td class="leftcol" valign="middle"></td> 
		<td valign="middle"></td>
		<td valign="middle"></td>
		<td valign="middle"></td>
		<td valign="middle" align="center"><button id="buy_orlov">Купить</button></td>
		</tr>
	</table>
	<hr></hr>ПОСЛЕ АНШЛАГОВОГО ВЕСЕННЕГО ШОУ, ПО МНОГОЧИСЛЕННЫМ ПРОСЬБАМ ФАНАТОВ, СЕРГЕЙ ОРЛОВ ВОЗВРАЩАЕТСЯ В УФУ!<br>СЕРГЕЙ ОРЛОВ, один из самых ярких и востребованных представителей российской Stand-Up сцены, отправляется в большой тур по всей стране!<br>Народный комик, писатель русской действительности, заслуженный эм-си провинциального ночного клуба, бывший спортсмен и баптист из поселка Депутатский Якутской области. Закрыл мечту «сняться в главной роли в крутом пацанском боевике» еще в детстве, поэтому такую мелочь, как приглашение в «Вечерний Ургант», воспринял спокойно.<br>«ЧТО-ТО С ЧЕМ-ТО ТУР» — новая сольная программа Орлова, убойный коктейль из метких панчей и экспромта!<br>Встречайте, большой Stand-Up Сергея Орлова в Уфе 28 ноября на сцене Тинькофф Холл!
	</div>


	<!-- Полина Гагарина -->


	<h3>Полина Гагарина</h3>
	<div>
	<table width="100%" cellspacing="0" cellpadding="0">
		<tr> 
			<td class="leftcol"><img src="/img/polinagagarina.jpg" width="200"></td>
			<td class="leftcol" align="center"><h1>Полина Гагарина</h1><br>30 ноября 19:00<br><a href="https://2gis.ru/ufa/firm/2393065583021143" target="_blank">Уфа-Арена<a></td>
			<td class="leftcol"></td>
			<td class="leftcol"></td>
			<td class="leftcol" align="center"><!-- <button>Подробнее</button> --></td>
	
		</tr>
		<tr></tr>
		<tr></tr>
		<tr> 
			<td class="leftcol"  align="left"></td>
			<td class="leftcol"  align="left"></td>
			<td class="leftcol"></td>
			<td class="leftcol"></td>
			<td class="leftcol"></td>
		</tr>
		<tr>
		<td class="leftcol" valign="middle"></td> 
		<td valign="middle"></td>
		<td valign="middle"></td>
		<td valign="middle"></td>
		<td valign="middle" align="center"><button id="buy_gagarina">Купить</button></td>
		</tr>
	</table>
	<hr></hr>Мы подготовили шоу, которому нет равных, где известные во всем мире хиты звучат по-новому, а современные диджитал-декорации позволяют показать полноценную концертную программу как на больших, так и маленьких площадках. Зажигательные танцевальные номера, яркие костюмы, интерактивы, живой звук и, конечно же, мощнейший вокал никого не оставят равнодушным.<br>Живые концерты Полины Гагариной – это всегда концептуальное масштабное шоу, запоминающееся надолго. Однако главное отличие представлений певицы в том, что на протяжении всего вечера ей удается поддерживать контакт со слушателями и создавать волшебное чувство, что она поет лично для каждого.<br>Полина Гагарина — Артистка, покорившая Европу и Китай, завоевавшая любовь и признание миллионов слушателей, обладательница уникального тембра и жизнеутверждающей энергетики.
	</div>


	<!--Хор Турецкого -->


	<h3>Хор Турецкого</h3>
	<div><table width="100%" cellspacing="0" cellpadding="0">
		<tr> 
			<td class="leftcol"><img src="/img/khorturetskogo.jpg" width="200"></td>
			<td class="leftcol"  align="center"><h1>Хор Турецкого</h1><br>29 ноября 19:00<br><a href="https://2gis.ru/ufa/firm/2393065583110220" target="_blank">Дворец молодёжи<a></td>
			<td class="leftcol"></td>
			<td class="leftcol"></td>
			<td class="leftcol" align="center"><!-- <button>Подробнее</button> --></td>
	
		</tr>
		<tr></tr>
		<tr></tr>
		<tr> 
			<td class="leftcol"  align="left"></td>
			<td class="leftcol"  align="left"></td>
			<td class="leftcol"></td>
			<td class="leftcol"></td>
			<td class="leftcol"></td>
		</tr>
		<tr>
		<td class="leftcol" valign="middle"></td> 
		<td valign="middle"></td>
		<td valign="middle"></td>
		<td valign="middle"></td>
		<td valign="middle" align="center"><button id="buy_turetskogo">Купить</button></td>
		</tr>
	</table>
	<hr></hr>Михаил Турецкий — Народный артист России, человек, который посвятил музыке всю жизнь. В честь своего 60-летия он представляет Юбилейную программу «Мне 60 и это ЗДОРОВО!».<br>«Через искусство и музыку я хочу выразить благодарность своей семье, стране и, конечно, публике», – М.Турецкий<br>Концерт выдающегося артиста, музыканта, дирижера, шоумена, продюсера знаменитых коллективов «Хор Турецкого» и «Soprano Турецкого» – это фееричное шоу! Здесь удивительным образом сочетаются вокальное мастерство и актерское искусство.<br>На концерте музыкальные хиты разных стилей и эпох изящно переплетаются в едином празднике: классика и фольклор, опера и рок, блюз и романсы, новые песни «Хора Турецкого» —каждая композиция в исполнении коллектива обретает новую жизнь!<br>Юбилейное шоу «Мне 60 и это ЗДОРОВО!» – это незабываемый вечер, наполненный песнями, энергией, счастьем и бесконечным талантом Маэстро Михаила Турецкого!
	</div>


	<!-- Найк Борзов -->


	<h3>Найк Борзов</h3>
	<div><table width="100%" cellspacing="0" cellpadding="0">
		<tr> 
			<td class="leftcol"><img src="/img/naikborzov.jpeg" width="200"></td>
			<td class="leftcol"  align="center"><h1>Найк Борзов</h1><br>27 ноября 19:00<br><a href="https://2gis.ru/ufa/firm/70000001061246742" target="_blank">Клуб Dom печати<a></td>
			<td class="leftcol"></td>
			<td class="leftcol"></td>
			<td class="leftcol" align="center"><!-- <button>Подробнее</button> --></td>
	
		</tr>
		<tr></tr>
		<tr></tr>
		<tr> 
			<td class="leftcol"  align="left"></td>
			<td class="leftcol"  align="left"></td>
			<td class="leftcol"></td>
			<td class="leftcol"></td>
			<td class="leftcol"></td>
		</tr>
		<tr>
		<td class="leftcol" valign="middle"></td> 
		<td valign="middle"></td>
		<td valign="middle"></td>
		<td valign="middle"></td>
		<td valign="middle" align="center"><button id="buy_borzov">Купить</button></td>
		</tr>
	</table>
	<hr></hr>Найк Борзов — известный советский и российский рок-музыкант, а также автор песен, исполнитель, актёр и создатель панк-группы «Инфекция», наиболее популярный благодаря сольному творчеству.<br>коро Найк Борзов посетит Уфу с уникальной программой в честь юбилея артиста — «Верхом на звезде 50 лет»!<br>Музыка Найка Борзова — это всегда яркое, глубокое и насыщенное эмоциями, динамичное движение вперёд, которое находит новый отклик в душе каждого слушателя. Интересное звучание в сочетании с мощным, чувственным вокалом и богатой фантазией, а также стремлением экспериментировать, делает выступления Борзова неповторимыми.<br>Найк рушит границы общепринятого формата рок-музыки, бросая вызов самому себе и всему миру, удивляя публику каждым своим творением и уникальным стилем звучания, никого не оставляя равнодушным.
	</div>
	
</div>
<div id="dialog-form">
  <form>
    <fieldset>
		<h4>Ваше имя <input type="text" id="fullname" style = "ui-textfield" > <br> </h4>
		<h4>Номер телефона <input type="text" id="fullname2" style = "ui-textfield" title="Мы не передаём ваши данные третьим лицам"> <br> </h4>
		<h4>Количество билетов
		<select name="ticket_count" id="ticket_count">
			<option>1</option>
			<option>2</option>
			<option>3</option>
			<option>4</option>
		</select> </h4>
		<h4><div id="slider"> <br> </h4>
		<h4>Выбрать дату <input type="text" id="datepicker" style = "ui-textfield"><br> </h4>
		<h4>Место 
		<select name="place" id="place" disabled>
			<option>Трибуна</option>
			<option>Фан-зона</option>
			<option>Партер</option>
		</select> <br> </h4>
		<h4>Итого <input type="text" id = "result" style = "ui-textfield" readonly> <br> </h4>
	</fieldset>
  </form>
</div>
<div id="dialog-confirm" title="Оформить заявку?">
    <fieldset>
		<p>После отправки её нельзя будет изменить</p>
	</fieldset>
</div>
<div id="thankyou" title="Спасибо!">
    <fieldset>
		<p>Спасибо за заявку, мы позвоним вам в течение часа!</p>
	</fieldset>
</div>
<div id="becareful" title="Проверьте данные">
    <fieldset>
		<p>Некоторые поля не заполнены (или заполенены неправильно)</p>
	</fieldset>
</div>
<br>
<a href="/">← Вернуться на главную</a>
<script src="external/jquery/jquery.js"></script>
<script src="jquery-ui.js"></script>
<script>
var price;
$( "#accordion" ).accordion({collapsible: true});

$( "#buy_orlov" ).button()
		.click(function(event){
			price = 3000;
			$( "#result" ).val(3000);
			$( "#tempname" ).val("Купить билет");
			$( "#dialog-form" ).dialog("option","title","Купить билет");
			$( "#dialog-form" ).dialog( "open" );
		});

$( "#buy_gagarina" ).button()
		.click(function(){
			price = 1600;
			$( "#result" ).val(1600);
			$( "#dialog-form" ).dialog("option","title","Купить билет");
			$( "#dialog-form" ).dialog( "open" );
        });
        
$( "#buy_turetskogo" ).button()
		.click(function(){
			price = 4000;
			$( "#result" ).val(4000);
			$( "#dialog-form" ).dialog("option","title","Купить билет");
			$( "#dialog-form" ).dialog( "open" );
        });

$( "#buy_borzov" ).button()
		.click(function(){
			price = 1700;
			$( "#result" ).val(1700);
			$( "#dialog-form" ).dialog("option","title","Купить билет");
			$( "#dialog-form" ).dialog( "open" );
        });

	$('#datepicker').datepicker({
	dateFormat : "dd.mm.yy",
	minDate: new Date($('#hiddendelivdate').val()),
	monthNames : ['Январь','Февраль','Март','Апрель','Май','Июнь','Июль','Август','Сентябрь','Октябрь','Ноябрь','Декабрь'],
	dayNamesMin : ['Вс','Пн','Вт','Ср','Чт','Пт','Сб'],
});

	$(document).tooltip();
	$('#fullname').trigger('mouseover');

	$( "#dialog-form" ).dialog({
    autoOpen: false,
    height: 500,
    width: 650,
    modal: true,
    buttons: {
        "Оформить": function() {
			if ($('#fullname').val() == '' || $('#datepicker').val() == '' || $('#autocomplete').val() == '' || $('#card').val() == ''){
				$( "#becareful" ).dialog("open");
			}
			else {
				$( "#dialog-confirm" ).dialog("open");
			}
        }
		},
		close : function(event, ui) {
			$('#fullname').val('');
			$('#datepicker').val('');
			$('#autocomplete').val('');
			$('#card').val('');
			slider.slider( "value", 0);
			select[ 0 ].selectedIndex = 0;
		}
    });
	$( "#place" ).selectmenu();


	$('#place').on('selectmenuchange', function() {
    var newPlace = $('#place').val();
    var ticketCount = $('#ticket_count').val(); 
    if (newPlace == "Партер") $( "#result" ).val(ticketCount*1.5*price);
    if (newPlace == "Фан-зона") $( "#result" ).val(ticketCount*1.25*price);
    if (newPlace == "Трибуна") $( "#result" ).val(ticketCount*price);
});


	var select = $( "#ticket_count" )
	.on( "change", function() {
      slider.slider( "value", this.selectedIndex + 1);
		$( "#result" ).val(((this.selectedIndex+1)*price));
		$( "#place" ).prop( "disabled",false );
		$('#place').val("Трибуна");
		$('#place').selectmenu("refresh");
    });
	var slider = $( "#slider" ).slider({
		min: 1,
		max: 4,
		range: "min",
		value: select[ 0 ].selectedIndex + 1,
		  slide: function( event, ui ) {
			select[ 0 ].selectedIndex = ui.value - 1;
			$( "#result" ).val((ui.value*price));
			$( "#place" ).prop( "disabled",false );
			$('#place').val("Трибуна");
		$('#place').selectmenu("refresh");
		  }
	});
		$( "#dialog-confirm" ).dialog({
			autoOpen: false,
			resizable: false,
			height: "auto",
			width: 400,
			modal: true,
			buttons: {
					"Купить билет": function() {
						$( this ).dialog( "close" );
							$( "#dialog-form" ).dialog( "close");
							$( "#thankyou" ).dialog("open");
					},
					"Нужно перепроверить": function() {
						$( this ).dialog( "close" );
					}
				}
			});
			$( "#thankyou" ).dialog({
			autoOpen: false,
			resizable: false,
			height: "auto",
			width: 400,
			modal: true,
			buttons: {
					"Закрыть": function() {
						$( this ).dialog( "close" );
					}
				}
			});
			$( "#becareful" ).dialog({
			autoOpen: false,
			resizable: false,
			height: "auto",
			width: 400,
			modal: true,
			buttons: {
					"Закрыть": function() {
						$( this ).dialog( "close" );
					}
				}
			});
</script>
</body>
</html>